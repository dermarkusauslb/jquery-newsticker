!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports&&(module.exports=t.document?void 0:function(t){if(!t.document)throw new Error("jQuery requires a window with a document")})}("undefined"!=typeof window?window:this),function(t){"use strict";t.breakingNews=function(e,i){var s={effect:"scroll",direction:"ltr",height:40,fontSize:"default",themeColor:"default",background:"default",borderWidth:1,radius:2,source:"html",rss2jsonApiKey:"",play:!0,delayTimer:4e3,scrollSpeed:2,stopOnHover:!0,position:"auto",zIndex:99999},r=this;r.settings={};var o=t(e),a=(e=e,o.children(".bn-label")),l=o.children(".bn-news"),c=l.children("ul"),f=c.children("li"),h=o.children(".bn-controls"),u=h.find(".bn-prev").parent(),g=h.find(".bn-action").parent(),p=h.find(".bn-next").parent(),m=!1,b=!0,y=c.children("li").length,w=0,k=!1,v=function(){if(0<a.length&&("rtl"==r.settings.direction?l.css({right:a.outerWidth()}):l.css({left:a.outerWidth()})),0<h.length){var e=h.outerWidth();"rtl"==r.settings.direction?l.css({left:e}):l.css({right:e})}if("scroll"===r.settings.effect){var i=0;f.each(function(){i+=t(this).outerWidth()}),i+=10,c.css({width:i})}},q=function(){var t=parseFloat(c.css("marginLeft"));t-=r.settings.scrollSpeed/2,c.css({marginLeft:t}),t<=-c.find("li:first-child").outerWidth()&&(c.find("li:first-child").insertAfter(c.find("li:last-child")),c.css({marginLeft:0})),!1===m&&(window.requestAnimationFrame&&requestAnimationFrame(q)||setTimeout(q,16))},x=function(){var t=parseFloat(c.css("marginRight"));t-=r.settings.scrollSpeed/2,c.css({marginRight:t}),t<=-c.find("li:first-child").outerWidth()&&(c.find("li:first-child").insertAfter(c.find("li:last-child")),c.css({marginRight:0})),!1===m&&(window.requestAnimationFrame&&requestAnimationFrame(x)||setTimeout(x,16))},W=function(){switch(b=!0,r.settings.effect){case"typography":c.find("li").hide(),c.find("li").eq(w).width(30).show(),c.find("li").eq(w).animate({width:"100%",opacity:1},1500);break;case"fade":c.find("li").hide(),c.find("li").eq(w).fadeIn();break;case"slide-down":y<=1?c.find("li").animate({top:30,opacity:0},300,function(){t(this).css({top:-30,opacity:0,display:"block"}),t(this).animate({top:0,opacity:1},300)}):(c.find("li:visible").animate({top:30,opacity:0},300,function(){t(this).hide()}),c.find("li").eq(w).css({top:-30,opacity:0}).show(),c.find("li").eq(w).animate({top:0,opacity:1},300));break;case"slide-up":y<=1?c.find("li").animate({top:-30,opacity:0},300,function(){t(this).css({top:30,opacity:0,display:"block"}),t(this).animate({top:0,opacity:1},300)}):(c.find("li:visible").animate({top:-30,opacity:0},300,function(){t(this).hide()}),c.find("li").eq(w).css({top:30,opacity:0}).show(),c.find("li").eq(w).animate({top:0,opacity:1},300));break;case"slide-left":y<=1?c.find("li").animate({left:"50%",opacity:0},300,function(){t(this).css({left:-50,opacity:0,display:"block"}),t(this).animate({left:0,opacity:1},300)}):(c.find("li:visible").animate({left:"50%",opacity:0},300,function(){t(this).hide()}),c.find("li").eq(w).css({left:-50,opacity:0}).show(),c.find("li").eq(w).animate({left:0,opacity:1},300));break;case"slide-right":y<=1?c.find("li").animate({left:"-50%",opacity:0},300,function(){t(this).css({left:"50%",opacity:0,display:"block"}),t(this).animate({left:0,opacity:1},300)}):(c.find("li:visible").animate({left:"-50%",opacity:0},300,function(){t(this).hide()}),c.find("li").eq(w).css({left:"50%",opacity:0}).show(),c.find("li").eq(w).animate({left:0,opacity:1},300));break;default:c.find("li").hide(),c.find("li").eq(w).show()}},C=function(){if(m=!1,r.settings.play)switch(r.settings.effect){case"scroll":"rtl"===r.settings.direction?c.width()>l.width()&&x():c.width()>l.width()&&q();break;default:r.pause(),k=setInterval(function(){r.next()},r.settings.delayTimer)}};r.init=function(){if(r.settings=t.extend({},s,i),"fixed-top"===r.settings.position?o.addClass("bn-fixed-top").css({"z-index":r.settings.zIndex}):"fixed-bottom"===r.settings.position&&o.addClass("bn-fixed-bottom").css({"z-index":r.settings.zIndex}),"default"!=r.settings.fontSize&&o.css({"font-size":r.settings.fontSize}),"default"!=r.settings.themeColor&&(o.css({"border-color":r.settings.themeColor,color:r.settings.themeColor}),a.css({background:r.settings.themeColor})),"default"!=r.settings.background&&o.css({background:r.settings.background}),o.css({height:r.settings.height,"line-height":r.settings.height-2*r.settings.borderWidth+"px","border-radius":r.settings.radius,"border-width":r.settings.borderWidth}),f.find(".bn-seperator").css({height:r.settings.height-2*r.settings.borderWidth}),o.addClass("bn-effect-"+r.settings.effect+" bn-direction-"+r.settings.direction),v(),"object"==typeof r.settings.source)switch(r.settings.source.type){case"rss":"rss2json"===r.settings.source.usingApi?((w=new XMLHttpRequest).onreadystatechange=function(){if(4==w.readyState&&200==w.status){var t=JSON.parse(w.responseText),e="",i="";switch(r.settings.source.showingField){case"title":i="title";break;case"description":i="description";break;case"link":i="link";break;default:i="title"}var s="";void 0!==r.settings.source.seperator&&void 0!==typeof r.settings.source.seperator&&(s=r.settings.source.seperator);for(var n=0;n<t.items.length;n++)r.settings.source.linkEnabled?e+='<li><a target="'+r.settings.source.target+'" href="'+t.items[n].link+'">'+s+t.items[n][i]+"</a></li>":e+="<li><a>"+s+t.items[n][i]+"</a></li>";c.empty().append(e),f=c.children("li"),y=c.children("li").length,v(),"scroll"!=r.settings.effect&&W(),f.find(".bn-seperator").css({height:r.settings.height-2*r.settings.borderWidth}),C()}},w.open("GET","https://api.rss2json.com/v1/api.json?rss_url="+r.settings.source.url+"&count="+r.settings.source.limit+"&api_key="+r.settings.source.rss2jsonApiKey,!0),w.send()):((e=new XMLHttpRequest).open("GET","https://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent('select * from rss where url="'+r.settings.source.url+'" limit '+r.settings.source.limit)+"&format=json",!0),h.onreadystatechange=function(){if(4==h.readyState)if(200==h.status){var t=JSON.parse(e.responseText),i="",s="";switch(r.settings.source.showingField){case"title":s="title";break;case"description":s="description";break;case"link":s="link";break;default:s="title"}var n="";"undefined"!=r.settings.source.seperator&&void 0!==r.settings.source.seperator&&(n=r.settings.source.seperator);for(var o=0;o<t.query.results.item.length;o++)r.settings.source.linkEnabled?i+='<li><a target="'+r.settings.source.target+'" href="'+t.query.results.item[o].link+'">'+n+t.query.results.item[o][s]+"</a></li>":i+="<li><a>"+n+t.query.results.item[o][s]+"</a></li>";c.empty().append(i),d=c.children("li"),y=c.children("li").length,v(),"scroll"!=r.settings.effect&&W(),f.find(".bn-seperator").css({height:r.settings.height-2*r.settings.borderWidth}),C()}else c.empty().append('<li><span class="bn-loader-text">'+r.settings.source.errorMsg+"</span></li>")},e.send(null));break;case"json":t.getJSON(r.settings.source.url,function(t){var e,i="";e="undefined"===r.settings.source.showingField?"title":r.settings.source.showingField;var s="";void 0!==r.settings.source.seperator&&void 0!==typeof r.settings.source.seperator&&(s=r.settings.source.seperator);for(var n=0;n<t.length&&!(n>=r.settings.source.limit);n++)r.settings.source.linkEnabled?i+='<li><a target="'+r.settings.source.target+'" href="'+t[n].link+'">'+s+t[n][e]+"</a></li>":i+="<li><a>"+s+t[n][e]+"</a></li>","undefined"===t[n][e]&&console.log('"'+e+'" does not exist in this json.');c.empty().append(i),f=c.children("li"),y=c.children("li").length,v(),"scroll"!=r.settings.effect&&W(),f.find(".bn-seperator").css({height:r.settings.height-2*r.settings.borderWidth}),C()});break;default:console.log('Please check your "source" object parameter. Incorrect Value')}else"html"===r.settings.source?("scroll"!=r.settings.effect&&W(),C()):console.log('Please check your "source" parameter. Incorrect Value');var e,w;r.settings.play?g.find("span").removeClass("bn-play").addClass("bn-pause"):g.find("span").removeClass("bn-pause").addClass("bn-play"),o.on("mouseleave",function(e){var i=t(document.elementFromPoint(e.clientX,e.clientY)).parents(".breaking-news-ticker")[0];t(this)[0]!==i&&(!0===r.settings.stopOnHover?!0===r.settings.play&&r.play():!0===r.settings.play&&!0===m&&r.play())}),o.on("mouseenter",function(){!0===r.settings.stopOnHover&&r.pause()}),p.on("click",function(){b&&(b=!1,r.pause(),r.next())}),u.on("click",function(){b&&(b=!1,r.pause(),r.prev())}),g.on("click",function(){b&&(g.find("span").hasClass("bn-pause")?(g.find("span").removeClass("bn-pause").addClass("bn-play"),r.stop()):(r.settings.play=!0,g.find("span").removeClass("bn-play").addClass("bn-pause")))}),t(window).on("resize",function(){o.width()<480?(n.hide(),"rtl"==r.settings.direction?l.css({right:0}):l.css({left:0})):(n.show(),"rtl"==r.settings.direction?l.css({right:a.outerWidth()}):l.css({left:a.outerWidth()}))})},r.pause=function(){m=!0,clearInterval(k)},r.stop=function(){m=!0,r.settings.play=!1},r.play=function(){C()},r.next=function(){!function(){switch(r.settings.effect){case"scroll":"rtl"===r.settings.direction?c.stop().animate({marginRight:-c.find("li:first-child").outerWidth()},300,function(){c.find("li:first-child").insertAfter(c.find("li:last-child")),c.css({marginRight:0}),b=!0}):c.stop().animate({marginLeft:-c.find("li:first-child").outerWidth()},300,function(){c.find("li:first-child").insertAfter(c.find("li:last-child")),c.css({marginLeft:0}),b=!0});break;default:y<=++w&&(w=0),W()}}()},r.prev=function(){!function(){switch(r.settings.effect){case"scroll":"rtl"===r.settings.direction?(0<=parseInt(c.css("marginRight"),10)&&(c.css({"margin-right":-c.find("li:last-child").outerWidth()}),c.find("li:last-child").insertBefore(c.find("li:first-child"))),c.stop().animate({marginRight:0},300,function(){b=!0})):(0<=parseInt(c.css("marginLeft"),10)&&(c.css({"margin-left":-c.find("li:last-child").outerWidth()}),c.find("li:last-child").insertBefore(c.find("li:first-child"))),c.stop().animate({marginLeft:0},300,function(){b=!0}));break;default:--w<0&&(w=y-1),W()}}()},r.init()},t.fn.breakingNews=function(e){return this.each(function(){if(null==t(this).data("breakingNews")){var i=new t.breakingNews(this,e);t(this).data("breakingNews",i)}})}}(jQuery);
